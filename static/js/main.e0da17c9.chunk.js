(this.webpackJsonpshogi=this.webpackJsonpshogi||[]).push([[0],{14:function(t,n,e){},15:function(t,n){function e(t){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}e.keys=function(){return[]},e.resolve=e,t.exports=e,e.id=15},16:function(t,n,e){"use strict";e.r(n);var c=e(1),o=e(0),r=e.n(o),a=e(7),i=e.n(a),u=(e(14),e(2)),s=e(3),O=e(8),b=e.n(O);var j=function(t,n){return n=JSON.parse(JSON.stringify(n)),JSON.stringify({})};function f(t,n,e){return Object(c.jsx)(c.Fragment,{children:t.map((function(t,o){return function(t,n,e,o){var r=0==t?"white":2==t?"red":"blue";return Object(c.jsx)("span",{style:{background:r,gridRow:n+1,gridColumn:e+1,border:"1px solid black"},onClick:function(t){return o(n,e)}})}(t,n,o,e)}))})}function d(t){var n=Object(o.useRef)(t);Object(o.useEffect)((function(){n.current=t}),[t]);return function(){return n.current.apply(n,arguments)}}var p=function(){var t=Object(o.useState)(function(t){var n=[2].concat(Object(s.a)(Object(s.a)(new Array(t)).map((function(t,n){return n%2?1:0}))),[2]),e=[2].concat(Object(s.a)(Object(s.a)(new Array(t)).map((function(t,n){return n%2?0:2}))),[2]),c=Object(s.a)(new Array(t)).map((function(t,c){return c%2?n:e}));return[[1].concat(Object(s.a)(Object(s.a)(new Array(t)).map((function(t){return 1}))),[2])].concat(Object(s.a)(c),[[2].concat(Object(s.a)(Object(s.a)(new Array(t)).map((function(t){return 1}))),[1])])}(6)),n=Object(u.a)(t,2),e=n[0],r=n[1],a=Object(o.useState)(1),i=Object(u.a)(a,2),O=i[0],p=i[1],l=Object(o.useState)(""),h=Object(u.a)(l,2),w=(h[0],h[1],Object(o.useState)("")),v=Object(u.a)(w,2),g=(v[0],v[1],Object(o.useState)(!0)),S=Object(u.a)(g,2),y=S[0],m=S[1],x=Object(o.useState)(void 0),N=Object(u.a)(x,2),C=N[0],J=N[1],k=Object(o.useState)({}),A=(Object(u.a)(k,1)[0],d((function(t){var n=t.row,c=t.col,o=JSON.parse(JSON.stringify(e));o[n][c]=O,r(o),p(3-O),m(!0)}))),E=function(t){var n=Object(o.useState)(void 0),e=Object(u.a)(n,2),c=e[0],r=e[1],a=Object(o.useState)(!1),i=Object(u.a)(a,2),s=i[0],O=i[1],j=d(t.onConnection);return Object(o.useEffect)((function(){var t=new b.a;return t.on("open",(function(){O(!0)})),r(t),t.on("connection",(function(t){t.on("open",(function(){j(t)}))})),function(){c&&c.destroy()}}),[]),[s?c:void 0,function(t){if(c){var n=c.connect(t);n.on("open",(function(){j(n)}))}}]}({onConnection:function(t){C||J(t),t.on("data",A)}}),F=Object(u.a)(E,2),B=F[0],D=F[1];function I(t,n){if(C&&0==e[t][n]&&y){var c=JSON.parse(JSON.stringify(e));c[t][n]=O,r(c),p(3-O),m(!1),C.send({row:t,col:n})}}return Object(o.useEffect)((function(){var t=window.location.hash.match(/^#connect=(.*)/);B&&t&&(D(t[1]),window.history.pushState("",document.title,window.location.pathname+window.location.search))}),[B]),Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)("div",{children:"v0.42.1"}),C?"Connected":B?Object(c.jsx)("a",{href:window.location+"#connect="+B.id,target:"_blank",children:"Share"}):"Initializing...",Object(c.jsx)("br",{}),y?"Your":"Opponent"," (",1==O?"Blue":"Red",") Move",Object(c.jsx)("div",{style:{display:"grid",width:"700px",height:"700px"},children:e.map((function(t,n){return f(t,n,I)}))}),Object(c.jsx)("br",{}),j(O,e)]})},l=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,17)).then((function(n){var e=n.getCLS,c=n.getFID,o=n.getFCP,r=n.getLCP,a=n.getTTFB;e(t),c(t),o(t),r(t),a(t)}))};i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(p,{})}),document.getElementById("root")),l()}},[[16,1,2]]]);
//# sourceMappingURL=main.e0da17c9.chunk.js.map